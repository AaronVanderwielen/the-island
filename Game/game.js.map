{"version":3,"file":"game.js","sourceRoot":"","sources":["game.ts"],"names":["Game","Game.constructor","Game.init","Game.getAssetById","Game.loadAssets","Game.loadAssets.handleAssetLoaded","Game.loadAssets.handleComplete","Game.onGameReady","Game.start","Game.stateUpdate","Game.refresh","Game.moveUserControlled","Game.drawMapObjects","Game.addMapObject","Game.renderView","Game.moveViewCenter"],"mappings":"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"}